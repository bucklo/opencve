{% load crispy_forms_tags %}

{{ form.url|as_crispy_field }}
<span class="help-block">
    <small>
        The webhook will receive a POST request with a JSON payload containing CVE changes.
        <a href="#" data-toggle="modal" data-target="#webhookPayloadModal">View payload example</a>
    </small>
</span>

{{ form.headers|as_crispy_field }}
<span class="help-block">
    <small>
        Optional HTTP headers as JSON object (e.g., <code>{"Authorization": "Bearer token123", "X-Custom-Header": "value"}</code>)
    </small>
</span>

{% if object %}
<div class="form-group">
    <button type="button" class="btn btn-info btn-sm" id="testWebhookBtn">
        <i class="fa fa-paper-plane"></i> Test Webhook
    </button>
    <span id="webhookTestResult" style="margin-left: 10px;"></span>
</div>
{% endif %}
